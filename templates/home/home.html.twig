{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"
          xmlns="http://www.w3.org/1999/html">
{% endblock %}

{% block javascripts %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    {{ encore_entry_script_tags('app') }}
{% endblock %}

{% block title %}{{ 'Annuaire des Français.e.s au Brésil' | trans }}{% endblock %}

{% block body %}
    <header class="page-header purple">
        <nav class="purple">
            <div class="nav-wrapper">
                <ul class="left">
                    <li>
                        <a href="#!"><i class="fas fa-address-book"></i></a>
                    </li>
                </ul>
                <div class="center">
                    <h1>{{ 'Annuaire des Français.e.s' | trans }}</h1>
                </div>
                <ul class="right">
                    <li class="hide-on-med-and-down"><a href="sass.html"><i
                                    class="fa-solid fa-user-plus"></i> {{ 'S´ajouter à l´annuaire' | trans }}</a></li>
                    <li><a href="sass.html"><i class="fa-solid fa-right-to-bracket"></i> <span
                                    class="hide-on-med-and-down">{{ 'Se connecter' | trans }}</span></a></li>
                </ul>
            </div>
        </nav>
    </header>
    <main>
        <div class="row hide-on-med-and-down mt-2">
            <div class="col s12">
                <div class="row center">
                    <h2>{{ 'Bienvenue sur l´annuaire des Français.e.s du Brésil' | trans }}</h2>
                    <p>{{ 'Outil de recherche et de mise en relation avec une personne française au Brésil.' | trans }}</p>
                </div>
            </div>
        </div>
        <div class="row mt-2 hide-on-med-and-up">
            <div class="col s12  m7">
                <div class="input-field col s12">
                    <i class="material-icons prefix">pin_drop</i>
                    {% include 'common/select-localization.html.twig' with { 'regions' : regions, 'device': 'mobile'} %}
                </div>
            </div>
        </div>
        <div class="row center-align mt-2">
            <div class="col s12  m7">
                <div class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">search</i>
                        <input type="text" id="autocomplete-input" class="autocomplete"
                               placeholder="{{ 'Par profession, centre intérêt...' | trans }}">
                        <label for="autocomplete-input">{{ 'Rechercher' | trans }}</label>
                    </div>
                </div>
            </div>
            <div class="col m5 hide-on-small-and-down">
                <div class="row">
                    <div class="col s6 right-align" style="line-height: 75px;">
                        <span>{{ 'Situé.e' | trans }}</span>
                    </div>
                    <div class="input-field col s6 left-align">
                        {% include 'common/select-localization.html.twig' with { 'regions' : regions, 'device': 'desktop'} %}
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-2">
            <div class="col s12 m6">
                <p class="text-center md:text-left">
                    <span>{{ 'Français.e.s trouvé.e.s' | trans }} :</span> <span
                            class="french-count">{{ total_found }}</span>
                </p>
            </div>
            <div class="col m6 text-right hide-on-small-and-down">
                <ul class="pagination">
                    <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
                    <li class="active"><a href="#!">1</a></li>
                    <li class="waves-effect"><a href="#!">2</a></li>
                    <li class="waves-effect"><a href="#!">3</a></li>
                    <li class="waves-effect"><a href="#!">4</a></li>
                    <li class="waves-effect"><a href="#!">5</a></li>
                    <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
                </ul>
            </div>
        </div>
        <div class="sm:overflow-y-auto">
            <div class="row">
                {% if member_list is not empty %}
                    {% for member in member_list %}
                        <div class="col s12 m6">

                            <div class="card">
                                <div class="card-content">
                                    <div class="row">
                                        <div class="col s4">
                                            <i class="avatar-empty fa fa-user-circle"></i>
                                        </div>
                                        <div class="col s8">
                                            <h3 class="card-title mt-1">{{ member.prenom | e }} {{ member.nom | e }}</h3>
                                            {% if member.activites_pro is not empty %}
                                                <h4>{{ 'Profession(s)' | trans }}</h4>
                                                <ul>
                                                    {% for activite_pro in member.activites_pro %}
                                                        <li>{{ activite_pro.appelation_metier | trans }}</li>
                                                    {% endfor %}
                                                </ul>
                                                <hr class="my-2"/>
                                            {% endif %}
                                        </div>
                                    </div>
                                    {% if member.centres_interets is not empty %}
                                        <div class="chips">
                                            <h4>{{ 'Centres d´intérêts' | trans }}</h4>
                                            {% for centre_interet in member.centres_interets %}
                                                <div class="chip">{{ centre_interet.label | trans }}</div>
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                    {% if member.centres_interets is not empty %}
                                        <div class="chips">
                                            <h4>{{ 'Connaissances' | trans }}</h4>
                                            {% for connaissance in member.connaissances %}
                                                <div class="chip">{{ connaissance.label | trans }}</div>
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                    {% if member.pratiques_asso is not empty %}
                                        <div class="chips">
                                            <h4>{{ 'Pratiques associatives/collectives' | trans }}</h4>
                                            {% for pratique_asso in member.pratiques_asso %}
                                                <div class="chip">{{ pratique_asso.label | trans }}</div>
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="card-action">
                                    <div class="row">
                                        <div class="col s6 left-align">
                                            <a class="waves-effect waves-light btn"><i class="fa fa-search-plus"></i> {{ 'Voir plus' | trans }}</a>
                                        </div>
                                        <div class="col s6 right-align">
                                            <button class="btn-contact btn waves-effect waves-light" type="button"><i class="fa fa-message"></i> {{ 'Contacter' | trans }}</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <p class="center-align"><em>{{ 'Nous avons trouvé personne avec ces critères' | trans }}</em></p>
                {% endif %}
            </div>
        </div>
    </main>
    <footer class="page-footer purple">
        <nav class="purple">
            <div class="nav-wrapper">
                <ul class="left">
                    <li>
                        <span class="switch left">
                            <label>
                                FR
                                <input id="switch-country"
                                       type="checkbox" {{ app.request.get('lang') == 'br' ? "Checked" }}>
                                <span class="lever"></span>
                                BR
                            </label>
                        </span>
                        <input type="hidden" id="route_fr" value="{{ path('homepage', {lang: 'fr'}) }}"/>
                        <input type="hidden" id="route_br" value="{{ path('homepage', {lang: 'br'}) }}"/>
                    </li>
                </ul>
                <ul class="right hide-on-med-and-up">
                    <li><a href="sass.html"><i class="fa-solid fa-user-plus"></i> {{ 'S´ajouter à l´annuaire' | trans }}
                        </a></li>
                </ul>
            </div>
        </nav>
    </footer>
{% endblock %}
